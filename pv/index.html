<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H·ªá th·ªëng Ph·ªèng v·∫•n üöÄ</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      /* Additional Styles */
      .mode-selection {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin: 40px 0;
      }

      .mode-card {
        width: 280px;
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .mode-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
      }

      .mode-icon {
        height: 140px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        color: white;
      }

      .text-mode .mode-icon {
        background-color: #3498db;
      }

      .voice-mode .mode-icon {
        background-color: #27ae60;
      }

      .mode-details {
        padding: 20px;
        text-align: center;
      }

      .mode-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 10px;
      }

      .mode-description {
        color: #7f8c8d;
        margin-bottom: 20px;
        font-size: 14px;
      }

      /* Chat interface */
      .chat-container {
        height: 400px;
        overflow-y: auto;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 15px;
        background-color: #f9f9f9;
        margin-bottom: 20px;
      }

      .chat-message {
        margin-bottom: 15px;
        display: flex;
        flex-direction: column;
      }

      .interviewer-message {
        align-items: flex-start;
      }

      .user-message {
        align-items: flex-end;
      }

      .message-content {
        max-width: 70%;
        padding: 12px 15px;
        border-radius: 18px;
        font-size: 15px;
        line-height: 1.4;
        position: relative;
      }

      .interviewer-message .message-content {
        background-color: #e9f5fe;
        color: #2c3e50;
        border-bottom-left-radius: 5px;
      }

      .user-message .message-content {
        background-color: #3498db;
        color: white;
        border-bottom-right-radius: 5px;
      }

      .message-time {
        font-size: 12px;
        margin-top: 5px;
        color: #95a5a6;
      }

      .chat-input-container {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
      }

      .chat-input {
        flex: 1;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: 24px;
        font-size: 15px;
      }

      .chat-input:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
      }

      .send-button {
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 50%;
        width: 45px;
        height: 45px;
        font-size: 18px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
      }

      .send-button:hover {
        background-color: #2980b9;
        transform: scale(1.05);
      }

      /* Video call styles */
      .video-container {
        display: flex;
        height: 400px;
        gap: 20px;
        margin-bottom: 20px;
      }

      .main-video {
        flex: 3;
        background-color: #2c3e50;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .self-video {
        flex: 1;
        background-color: #34495e;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .video-controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .video-control-button {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .mic-button {
        color: #3498db;
      }

      .camera-button {
        color: #9b59b6;
      }

      .end-button {
        background-color: #e74c3c;
        color: white;
      }

      .video-control-button:hover {
        transform: scale(1.1);
      }

      /* Time counter */
      .interview-time {
        text-align: center;
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 25px;
        color: #7f8c8d;
      }

      /* Current question display */
      .current-question-display {
        background-color: white;
        padding: 15px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        border-left: 4px solid #3498db;
      }

      .question-label {
        font-size: 14px;
        color: #7f8c8d;
        margin-bottom: 5px;
      }

      .question-text {
        font-size: 16px;
        font-weight: 600;
      }

      /* Virtual interviewer icon */
      .virtual-interviewer {
        width: 120px;
        height: 120px;
        background-color: #3498db;
        color: white;
        font-size: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
      }

      /* Animation for active recording */
      .pulse-recording {
        animation: pulse-red 2s infinite;
      }

      @keyframes pulse-red {
        0% {
          box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7);
        }
        70% {
          box-shadow: 0 0 0 15px rgba(231, 76, 60, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(231, 76, 60, 0);
        }
      }

      /* Subtitle text */
      .subtitle {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 20px;
        font-size: 18px;
      }

      /* Step indicators */
      .steps-container {
        display: flex;
        justify-content: center;
        margin-bottom: 30px;
      }

      .step {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        margin: 0 40px;
      }

      .step-number {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #ecf0f1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .step.active .step-number {
        background-color: #3498db;
        color: white;
      }

      .step.completed .step-number {
        background-color: #2ecc71;
        color: white;
      }

      .step-title {
        font-size: 14px;
        color: #7f8c8d;
      }

      .step.active .step-title {
        color: #3498db;
        font-weight: bold;
      }

      .step.completed .step-title {
        color: #2ecc71;
      }

      .step-line {
        position: absolute;
        top: 20px;
        width: 100px;
        height: 2px;
        background-color: #ecf0f1;
        right: -70px;
      }

      .step.completed .step-line {
        background-color: #2ecc71;
      }

      /* Continue button */
      .continue-button {
        display: block;
        width: 200px;
        text-align: center;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .mode-selection {
          flex-direction: column;
          align-items: center;
        }

        .video-container {
          flex-direction: column;
          height: auto;
        }

        .main-video,
        .self-video {
          height: 200px;
        }

        .steps-container {
          flex-direction: column;
          align-items: center;
        }

        .step {
          margin: 10px 0;
        }

        .step-line {
          display: none;
        }
      }

      .text-center {
        text-align: center;
      }

      .mb-20 {
        margin-bottom: 20px;
      }

      .small {
        font-size: 14px;
        color: #95a5a6;
      }

      /* Loading indicator */
      .loading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }

      .loading-spinner {
        border: 6px solid #f3f3f3;
        border-top: 6px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 2s linear infinite;
        margin-bottom: 15px;
      }

      .loading p {
        color: white;
        font-size: 18px;
        font-weight: 500;
      }

      /* Voice Answer Section */
      #voice-answer-section {
        background-color: white;
        padding: 15px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      #voice-answer-text {
        min-height: 100px;
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 4px;
        border: 1px solid #ddd;
        margin: 10px 0;
      }

      /* Criteria reasoning section */
      .criteria-reasoning {
        flex-basis: 100%;
        margin-top: 10px;
      }

      .reasoning-toggle {
        cursor: pointer;
        color: #3498db;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .reasoning-content {
        margin-top: 10px;
        padding: 10px;
        background-color: #f8f9fa;
        border-radius: 4px;
        font-size: 14px;
        line-height: 1.5;
      }

      .back-button {
        position: fixed;
        top: 1rem;
        left: 1rem;
        z-index: 100;
        background-color: white;
        padding: 0.5rem 1rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        text-decoration: none;
        color: #4b5563;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06);
        transition: all 0.2s ease-in-out;
      }
      .back-button:hover {
        background-color: #f3f4f6;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }
      .back-button i {
        font-size: 1rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Back Button -->
      <a href="./homepage/homepage.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
        <span>Quay l·∫°i</span>
      </a>
      <!-- Information Input Screen -->
      <div id="info-screen" class="screen active">
        <h1>H·ªá th·ªëng Ph·ªèng v·∫•n Th√¥ng minh üöÄ</h1>

        <div class="steps-container">
          <div class="step active">
            <div class="step-number">1</div>
            <div class="step-title">Th√¥ng tin</div>
            <div class="step-line"></div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-title">Ch·ªçn ch·∫ø ƒë·ªô</div>
            <div class="step-line"></div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-title">Ph·ªèng v·∫•n</div>
          </div>
        </div>

        <p class="subtitle">Nh·∫≠p th√¥ng tin c√° nh√¢n ƒë·ªÉ b·∫Øt ƒë·∫ßu ph·ªèng v·∫•n</p>

        <div class="form-container">
          <div class="form-group">
            <label for="name">H·ªç v√† t√™n:</label>
            <input type="text" id="name" placeholder="Nh·∫≠p h·ªç v√† t√™n c·ªßa b·∫°n" />
          </div>
          <div class="form-group">
            <label for="age">Tu·ªïi:</label>
            <input type="number" id="age" placeholder="Nh·∫≠p tu·ªïi c·ªßa b·∫°n" />
          </div>
          <div class="form-group">
            <label for="job">Ngh·ªÅ nghi·ªáp ·ª©ng tuy·ªÉn:</label>
            <select id="job">
              <option value="">Ch·ªçn ngh·ªÅ nghi·ªáp</option>
              <!-- Job options will be loaded dynamically from JavaScript -->
            </select>
          </div>
          <button id="continue-to-mode" class="btn btn-primary continue-button">
            Ti·∫øp t·ª•c
          </button>
        </div>
      </div>

      <!-- Mode Selection Screen -->
      <div id="mode-screen" class="screen">
        <h1>H·ªá th·ªëng Ph·ªèng v·∫•n Th√¥ng minh üöÄ</h1>

        <div class="steps-container">
          <div class="step completed">
            <div class="step-number">
              <i class="fas fa-check" style="z-index: 1000"></i>
            </div>
            <div class="step-title">Th√¥ng tin</div>
            <div class="step-line"></div>
          </div>
          <div class="step active">
            <div class="step-number">2</div>
            <div class="step-title">Ch·ªçn ch·∫ø ƒë·ªô</div>
            <div class="step-line"></div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-title">Ph·ªèng v·∫•n</div>
          </div>
        </div>

        <p class="subtitle">
          Ch√†o <span id="user-name-display"></span>, vui l√≤ng ch·ªçn ph∆∞∆°ng th·ª©c
          ph·ªèng v·∫•n ph√π h·ª£p
        </p>

        <div class="mode-selection">
          <div class="mode-card text-mode" id="select-text-mode">
            <div class="mode-icon">
              <i class="fas fa-comments"></i>
            </div>
            <div class="mode-details">
              <div class="mode-title">Ph·ªèng v·∫•n b·∫±ng Chat</div>
              <div class="mode-description">
                Tr·∫£ l·ªùi c√¢u h·ªèi qua tr√≤ chuy·ªán vƒÉn b·∫£n
              </div>
            </div>
          </div>

          <div class="mode-card voice-mode" id="select-voice-mode">
            <div class="mode-icon">
              <i class="fas fa-microphone-alt"></i>
            </div>
            <div class="mode-details">
              <div class="mode-title">Ph·ªèng v·∫•n b·∫±ng Gi·ªçng n√≥i</div>
              <div class="mode-description">
                Tr·∫£ l·ªùi c√¢u h·ªèi tr·ª±c ti·∫øp qua gi·ªçng n√≥i
              </div>
            </div>
          </div>

          <div
            class="mode-card interact-mode"
            id="select-interact-mode"
            style="pointer-events: none"
          >
            <div class="mode-icon">
              <i class="fa fa-spinner"></i>
            </div>
            <div class="mode-details">
              <div class="mode-title">Ph·ªèng v·∫•n b·∫±ng T∆∞∆°ng t√°c</div>
              <div class="mode-description">ƒêang ph√°t tri·ªÉn....</div>
            </div>
          </div>
        </div>

        <div style="display: flex; margin-bottom: 45px">
          <button id="start-interview" class="btn btn-primary continue-button">
            B·∫Øt ƒë·∫ßu
          </button>
          <button
            id="back-to-info"
            class="btn btn-secondary continue-button"
            style="margin-top: 10px"
          >
            Quay l·∫°i
          </button>
        </div>
      </div>

      <!-- Chat Interview Screen -->
      <div id="chat-interview-screen" class="screen">
        <div id="interview-header">
          <h2>ü§ñ Ph·ªèng v·∫•n Chat: <span id="chat-job-title"></span></h2>
          <div id="candidate-info">
            <p>·ª®ng vi√™n: <span id="chat-candidate-name"></span></p>
            <p>Tu·ªïi: <span id="chat-candidate-age"></span></p>
          </div>
        </div>

        <div id="chat-interview-content">
          <div id="progress-bar-container">
            <div class="progress-text">‚úÖ Ti·∫øn ƒë·ªô ph·ªèng v·∫•n:</div>
            <div class="progress-bar">
              <div class="progress-fill" id="chat-interview-progress"></div>
            </div>
            <div class="progress-stats">
              <span id="chat-current-criteria-number">1</span>/<span
                id="chat-total-criteria-number"
                >10</span
              >
              ti√™u ch√≠
            </div>
          </div>

          <div class="chat-container" id="chat-messages">
            <!-- Messages will be added dynamically -->
          </div>

          <div class="chat-input-container">
            <input
              type="text"
              class="chat-input"
              id="chat-input"
              placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."
            />
            <button class="send-button" id="send-message">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>

          <div id="chat-interview-controls">
            <button id="finish-chat-interview" class="btn btn-secondary">
              K·∫øt th√∫c ph·ªèng v·∫•n
            </button>
          </div>
        </div>
      </div>

      <!-- Voice Interview Screen -->
      <div id="voice-interview-screen" class="screen">
        <div id="interview-header">
          <h2>üé§ Ph·ªèng v·∫•n Gi·ªçng n√≥i: <span id="voice-job-title"></span></h2>
          <div id="candidate-info">
            <p>·ª®ng vi√™n: <span id="voice-candidate-name"></span></p>
            <p>Tu·ªïi: <span id="voice-candidate-age"></span></p>
          </div>
        </div>

        <div id="voice-interview-content" class="modernized-voice-content">
          <div class="voice-interview-layout">
            <div class="voice-main-container">
              <div id="progress-bar-container">
                <div class="progress-text">‚úÖ Ti·∫øn ƒë·ªô ph·ªèng v·∫•n:</div>
                <div class="progress-bar">
                  <div
                    class="progress-fill"
                    id="voice-interview-progress"
                  ></div>
                </div>
                <div class="progress-stats">
                  <span id="voice-current-criteria-number">1</span>/<span
                    id="voice-total-criteria-number"
                    >10</span
                  >
                  ti√™u ch√≠
                </div>
              </div>

              <div class="interview-time">
                <i class="fas fa-clock"></i> Th·ªùi gian:
                <span id="interview-timer">00:00</span>
              </div>

              <div class="current-question-display">
                <div class="question-label">C√¢u h·ªèi hi·ªán t·∫°i:</div>
                <div class="question-text" id="current-voice-question">
                  ƒêang t·∫£i c√¢u h·ªèi...
                </div>
              </div>

              <div id="voice-answer-section">
                <div class="voice-answer-header">
                  <h3>C√¢u tr·∫£ l·ªùi c·ªßa b·∫°n:</h3>
                  <div class="mic-status">
                    <span id="mic-status-indicator">Ch∆∞a b·∫Øt ƒë·∫ßu ghi √¢m</span>
                  </div>
                </div>
                <div class="voice-answer-container">
                  <div id="voice-answer-text" contenteditable="true"></div>
                </div>
                <div class="input-actions">
                  <button
                    id="clear-voice-answer"
                    class="btn btn-secondary btn-sm"
                  >
                    <i class="fas fa-eraser"></i> X√≥a c√¢u tr·∫£ l·ªùi
                  </button>
                </div>
              </div>
            </div>

            <div class="voice-sidebar-container">
              <div class="interviewer-avatar-container">
                <div class="virtual-interviewer">
                  <i class="fas fa-user-tie"></i>
                </div>
                <div class="interviewer-label">Ng∆∞·ªùi ph·ªèng v·∫•n ·∫£o</div>
              </div>

              <div class="voice-controls-container">
                <div class="video-controls">
                  <div class="voice-control-group">
                    <div
                      class="video-control-button mic-button"
                      id="toggle-mic"
                    >
                      <i class="fas fa-microphone"></i>
                    </div>
                    <span class="control-label">Mic</span>
                  </div>
                  <div class="voice-control-group">
                    <div
                      class="video-control-button camera-button"
                      id="toggle-camera"
                    >
                      <i class="fas fa-video"></i>
                    </div>
                    <span class="control-label">Camera</span>
                  </div>
                  <div class="voice-control-group">
                    <div
                      class="video-control-button end-button"
                      id="end-interview"
                    >
                      <i class="fas fa-phone-slash"></i>
                    </div>
                    <span class="control-label">K·∫øt th√∫c</span>
                  </div>
                </div>
              </div>

              <div class="voice-interview-tips">
                <h4>M·∫πo ph·ªèng v·∫•n:</h4>
                <ul>
                  <li>
                    Nh·∫•n v√†o n√∫t <i class="fas fa-microphone"></i> ƒë·ªÉ b·∫Øt ƒë·∫ßu
                    ghi √¢m
                  </li>
                  <li>N√≥i r√µ r√†ng v√† t·ª± nhi√™n</li>
                  <li>Ki·ªÉm tra c√¢u tr·∫£ l·ªùi tr∆∞·ªõc khi g·ª≠i</li>
                  <li>
                    B·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a c√¢u tr·∫£ l·ªùi b·∫±ng c√°ch g√µ tr·ª±c ti·∫øp
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div id="voice-interview-controls" class="voice-navigation-buttons">
            <button id="next-voice-question" class="btn btn-primary">
              <i class="fas fa-check-circle"></i> G·ª≠i c√¢u tr·∫£ l·ªùi
            </button>
            <button id="finish-voice-interview" class="btn btn-secondary">
              <i class="fas fa-flag-checkered"></i> K·∫øt th√∫c ph·ªèng v·∫•n
            </button>
          </div>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="result-screen" class="screen">
        <h2>üåü K·∫øt qu·∫£ ph·ªèng v·∫•n</h2>
        <div id="candidate-result-info">
          <p>·ª®ng vi√™n: <span id="result-name"></span></p>
          <p>Tu·ªïi: <span id="result-age"></span></p>
          <p>V·ªã tr√≠ ·ª©ng tuy·ªÉn: <span id="result-job"></span></p>
          <p>Ph∆∞∆°ng th·ª©c ph·ªèng v·∫•n: <span id="result-mode"></span></p>
        </div>

        <div id="score-overview">
          <h3>‚úÖ ƒêi·ªÉm t·ªïng quan:</h3>
          <div class="score-chart">
            <div class="score-bar">
              <div class="score-fill" id="total-score-fill"></div>
            </div>
            <p>
              T·ªïng ƒëi·ªÉm: <span id="total-score">0</span>/<span id="max-score"
                >40</span
              >
            </p>
          </div>
        </div>

        <div id="detailed-scores">
          <h3>üòç ƒêi·ªÉm chi ti·∫øt theo ti√™u ch√≠:</h3>
          <div id="criteria-scores">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>

        <div id="evaluation">
          <h3>ü•≥ ƒê√°nh gi√° chung:</h3>
          <p id="evaluation-text"></p>
        </div>

        <div id="result-controls">
          <button id="restart" class="btn btn-primary">
            Quay l·∫°i trang ch·ªß
          </button>
          <button id="download-result" class="btn btn-secondary">
            T·∫£i xu·ªëng k·∫øt qu·∫£
          </button>
        </div>
      </div>

      <!-- Loading Indicator -->
      <div id="loading-indicator" class="loading" style="display: none">
        <div class="loading-spinner"></div>
        <p id="loading-message">ƒêang x·ª≠ l√Ω...</p>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>